<!DOCTYPE html>
<html>
<body>
  <button onclick="test()">Test Backend</button>
  <pre id="result">Waiting...</pre>
  <script>
    async function test() {
      try {
        const response = await fetch('https://nyumazseosbsmuyynymt.supabase.co/functions/v1/chats', {
          method: 'POST',
          headers: {
            'Authorization': 'Bearer sb_publishable_XXrVsB_okK8PlPmgEvN4iw_8wnoNpTk',
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ messages: [{ role: 'user', content: 'Hello' }] })
        });
        const text = await response.text();
        document.getElementById('result').textContent = `Status: ${response.status}\nBody: ${text}`;
      } catch (e) {
        document.getElementById('result').textContent = e.toString();
      }
    }
  </script>
</body>
</html>
